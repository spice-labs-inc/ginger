# Ginger -- Encrypted Uploader is deprecated and no longer supported. Please switch to Ginger-j: https://github.com/spice-labs-inc/ginger-j‚Å†

The code that takes a JWT created by the web site, a public key PEM generated by the web site and
creates an encrypted ZIP file to upload.

This allows a user to ensure that data is encrypted with a specific public key before uploading to Spice Labs'
servers (or other servers).

The code is written in Rust and uses OpenSSL for most of the encryption operations.

## Command line 

*  `-z`, `--zipin` `<ZIPIN>`   The location of the zip file that contains JWT, server, & public key. This avoids having to use the `--jwt`
   `--key`, and `--server` options as these items are stored in a single zip file
*  `-j`, `--jwt` `<JWT>` The JWT to use to communicate/authenticate with the server (if `zipin` provided, that's authoritative)
*  `-k`, `--key` `<KEY>` The file that contains the public key PEM used to encrypt the upload if `zipin` contains the key, this option with be ignored
*  `-s`, `--server` `<SERVER>` The address of the server to post the results to. if `zipin` contains the server, this option with be ignored
*  `-p`, `--payload` `<PAYLOAD>`
          The path to the payload to upload. It can be an individual file or a directory. If it's a directory, the contents will be TARed for upload
*  `-e`, `--encrypt-only` Only encrypt using the key. Do not upload
*  `--uuid` `<UUID>` For encrypt_only operations, provide the uuid that would otherwise be provided by the JWT
*  `--comment-no-sensitive-info` `<COMMENT_NO_SENSITIVE_INFO>` A comment that will be included in plain text in the uploaded bundle. It should not contain sensitive information
*  `-m`, `--mime-type` `<MIME_TYPE>` The mime type of the bundle upload. For Deploy Events `de` will expand to `application/vnd.info.deployevent`. This should be used for Deploy Events. A check will be made that all files with the `.json` extension contain valid deploy event JSON. `gr` and `bt` will expand to `application/vnd.cc.bigtent` The mime type for Artifact Dependency Graph generated by Goat Rodeo (or other ADG creation tools). When this mime type is selected a check will be made that the upload is a directory and that there is at least one `.grc`, `.grd` and `.gri` file
* `--accept-alt-mime-type=true` Uploading bundles should only use `application/vnd.cc.bigtent` or `application/vnd.info.deployevent` mime type. If you want to upload with a different mime type, you must set this flag to `true`.
*  -h, --help
          Print help
*  -V, --version
          Print version

## Copyright and License

The contents of this repository are copyrighted by Spice Labs, Inc. and licensed
under an Apache 2 license.

```
Copyright 2025 Spice Labs, Inc. & Contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```


